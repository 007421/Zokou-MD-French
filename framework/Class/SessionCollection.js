function a66_0x4ad7(){const _0x1b4bc2=['nZG4mdy3nwvrvevUwa','zMv0y2HgB3jeB2nZ','AgfZq3jLzhm','C2vHCMnO','C2vZC2LVBKfWAq','Ahr0Chm6lY96B2TVDs1ZzxnZAw9UlwfWAs52zxjJzwWUyxbW','z2v0','mZe3ntG4ofbND3vdCa','Bg9HzhneB2nZ','yxHPB3m','lI4VlI4VyMrKl3nLC3nPB24','C2HVDwXKuMvSB2fKu2vZC2LVBG','zxHWB3j0CW','zM91BMq','mJiYmdi4nZrRsLryrKm','ywrKu2vZC2LVBG','ntK0mJi1wKvjwff5','ndq3odu4oujArMPfuG','z2v0u2vZC2LVBG','oe5lAw9hva','zgf0yq','nMz2tKXhCG','Dg9tDhjPBMC','yxbWBhK','CMvTB3zLrg9JC0zYB21jza','nJu3otm4nhfmDuXSDa','ALr5B1e','mta3mZe0ofbtC0T2Ba'];a66_0x4ad7=function(){return _0x1b4bc2;};return a66_0x4ad7();}function a66_0x206b(_0x57119b,_0x3f8aae){const _0xb9adb8=a66_0x4ad7();return a66_0x206b=function(_0x508f57,_0x449208){_0x508f57=_0x508f57-0x1eb;let _0x4ad7f9=_0xb9adb8[_0x508f57];if(a66_0x206b['AfmRDv']===undefined){var _0x206bb7=function(_0x8c6477){const _0x3508e4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2daf99='',_0x42a003='',_0x9441a4=_0x2daf99+_0x206bb7;for(let _0x2c356e=0x0,_0x35b9f0,_0x15d8b8,_0x1cdbba=0x0;_0x15d8b8=_0x8c6477['charAt'](_0x1cdbba++);~_0x15d8b8&&(_0x35b9f0=_0x2c356e%0x4?_0x35b9f0*0x40+_0x15d8b8:_0x15d8b8,_0x2c356e++%0x4)?_0x2daf99+=_0x9441a4['charCodeAt'](_0x1cdbba+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x35b9f0>>(-0x2*_0x2c356e&0x6)):_0x2c356e:0x0){_0x15d8b8=_0x3508e4['indexOf'](_0x15d8b8);}for(let _0x56ec99=0x0,_0x462bf8=_0x2daf99['length'];_0x56ec99<_0x462bf8;_0x56ec99++){_0x42a003+='%'+('00'+_0x2daf99['charCodeAt'](_0x56ec99)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42a003);};a66_0x206b['fndMZs']=_0x206bb7,_0x57119b=arguments,a66_0x206b['AfmRDv']=!![];}const _0x35f353=_0xb9adb8[0x0],_0x702830=_0x508f57+_0x35f353,_0x1646d1=_0x57119b[_0x702830];if(!_0x1646d1){const _0x4fe7a1=function(_0x81d9d9){this['GfePnh']=_0x81d9d9,this['SIgxrX']=[0x1,0x0,0x0],this['CyByHH']=function(){return'newState';},this['ikfbzq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['rSTTTY']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4fe7a1['prototype']['EWgHZe']=function(){const _0x30bf15=new RegExp(this['ikfbzq']+this['rSTTTY']),_0xec0aa9=_0x30bf15['test'](this['CyByHH']['toString']())?--this['SIgxrX'][0x1]:--this['SIgxrX'][0x0];return this['iJxYTa'](_0xec0aa9);},_0x4fe7a1['prototype']['iJxYTa']=function(_0xbee394){if(!Boolean(~_0xbee394))return _0xbee394;return this['FCBgLw'](this['GfePnh']);},_0x4fe7a1['prototype']['FCBgLw']=function(_0x25187a){for(let _0x3231ff=0x0,_0x547096=this['SIgxrX']['length'];_0x3231ff<_0x547096;_0x3231ff++){this['SIgxrX']['push'](Math['round'](Math['random']())),_0x547096=this['SIgxrX']['length'];}return _0x25187a(this['SIgxrX'][0x0]);},new _0x4fe7a1(a66_0x206b)['EWgHZe'](),_0x4ad7f9=a66_0x206b['fndMZs'](_0x4ad7f9),_0x57119b[_0x702830]=_0x4ad7f9;}else _0x4ad7f9=_0x1646d1;return _0x4ad7f9;},a66_0x206b(_0x57119b,_0x3f8aae);}const a66_0x139657=a66_0x206b;(function(_0x2957d4,_0x2a3fb8){const _0x52bffc=a66_0x206b,_0x36fd7b=_0x2957d4();while(!![]){try{const _0x462717=parseInt(_0x52bffc(0x1fe))/0x1+-parseInt(_0x52bffc(0x1f5))/0x2+-parseInt(_0x52bffc(0x1ff))/0x3+parseInt(_0x52bffc(0x1ed))/0x4+-parseInt(_0x52bffc(0x1ee))/0x5*(-parseInt(_0x52bffc(0x203))/0x6)+-parseInt(_0x52bffc(0x1eb))/0x7+-parseInt(_0x52bffc(0x201))/0x8*(-parseInt(_0x52bffc(0x1fc))/0x9);if(_0x462717===_0x2a3fb8)break;else _0x36fd7b['push'](_0x36fd7b['shift']());}catch(_0x37ab4e){_0x36fd7b['push'](_0x36fd7b['shift']());}}}(a66_0x4ad7,0xd80b2));const a66_0x449208=(function(){let _0x3c3299=!![];return function(_0x5c9488,_0x46b20f){const _0x10ae6c=_0x3c3299?function(){const _0x482882=a66_0x206b;if(_0x46b20f){const _0x4190ec=_0x46b20f[_0x482882(0x205)](_0x5c9488,arguments);return _0x46b20f=null,_0x4190ec;}}:function(){};return _0x3c3299=![],_0x10ae6c;};}()),a66_0x508f57=a66_0x449208(this,function(){const _0x521b18=a66_0x206b,_0x53e3b3={'jTyoQ':'(((.+)+)+)+$'};return a66_0x508f57[_0x521b18(0x204)]()['search'](_0x53e3b3[_0x521b18(0x1ec)])['toString']()['constructor'](a66_0x508f57)[_0x521b18(0x1f1)]('(((.+)+)+)+$');});a66_0x508f57();const sessionDb=require(a66_0x139657(0x1f8)),authDb=require('../../bdd/auth'),axios=require(a66_0x139657(0x1f7));class SessionManager{['sessionApi']=a66_0x139657(0x1f3);#userId=null;#shouldReloadSession=![];#userSession=null;constructor(_0x2e72cc,_0x8ccc33=null){const _0x31af0c=a66_0x139657;this.#userId=_0x2e72cc,this.#userSession=_0x8ccc33;const _0x2ca40e=sessionDb[_0x31af0c(0x200)](this.#userId);if(!_0x2ca40e){sessionDb[_0x31af0c(0x1fd)](_0x2e72cc,this.#userSession);if(_0x8ccc33)this.#shouldReloadSession=!![];return;}if(_0x2ca40e?.['id']==this.#userSession){if(_0x8ccc33==null)return;return this.#checkIfShouldReconnect();}authDb[_0x31af0c(0x206)](this.#userId),sessionDb[_0x31af0c(0x1fd)](this.#userId,this.#userSession),this.#shouldReloadSession=!![];}async['fetchForDocs'](_0xa367df){const _0x2cf760=a66_0x139657,_0x2b679e=await axios[_0x2cf760(0x1f4)](this[_0x2cf760(0x1f2)]+'/session/'+_0xa367df+'?remove=true');if(_0x2b679e?.[_0x2cf760(0x202)]?.[_0x2cf760(0x1fb)])return _0x2b679e['data']['documents'];else throw new Error();}get[a66_0x139657(0x1f9)](){return this.#shouldReloadSession;}async['reloadSession'](){const _0x87a90c=a66_0x139657,_0x1b8788=await this[_0x87a90c(0x1ef)](this.#userSession);authDb[_0x87a90c(0x1f6)](this.#userId,_0x1b8788);}#checkIfShouldReconnect(){const _0x754f35=a66_0x139657;return this.#shouldReloadSession=!authDb[_0x754f35(0x1f0)](this.#userId);}}module[a66_0x139657(0x1fa)]=SessionManager;