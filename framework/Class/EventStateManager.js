function a63_0x944a(_0x50ac5c,_0x432e12){const _0x2f49dd=a63_0xddbc();return a63_0x944a=function(_0x22329b,_0x1966aa){_0x22329b=_0x22329b-0x16d;let _0xddbc72=_0x2f49dd[_0x22329b];if(a63_0x944a['pSeLMo']===undefined){var _0x944a8d=function(_0x540c2f){const _0x17f0d2='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4a0c6d='',_0x276041='',_0x5316b2=_0x4a0c6d+_0x944a8d;for(let _0x116209=0x0,_0x33cdd5,_0x5825de,_0x4262ec=0x0;_0x5825de=_0x540c2f['charAt'](_0x4262ec++);~_0x5825de&&(_0x33cdd5=_0x116209%0x4?_0x33cdd5*0x40+_0x5825de:_0x5825de,_0x116209++%0x4)?_0x4a0c6d+=_0x5316b2['charCodeAt'](_0x4262ec+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x33cdd5>>(-0x2*_0x116209&0x6)):_0x116209:0x0){_0x5825de=_0x17f0d2['indexOf'](_0x5825de);}for(let _0x4da7b6=0x0,_0x35705d=_0x4a0c6d['length'];_0x4da7b6<_0x35705d;_0x4da7b6++){_0x276041+='%'+('00'+_0x4a0c6d['charCodeAt'](_0x4da7b6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x276041);};a63_0x944a['oAMEZE']=_0x944a8d,_0x50ac5c=arguments,a63_0x944a['pSeLMo']=!![];}const _0x8409a2=_0x2f49dd[0x0],_0x5b9c91=_0x22329b+_0x8409a2,_0xf64f73=_0x50ac5c[_0x5b9c91];if(!_0xf64f73){const _0x4aa5d7=function(_0x301bff){this['qsaYCU']=_0x301bff,this['FxvxYu']=[0x1,0x0,0x0],this['ZaKeVQ']=function(){return'newState';},this['ZaDbgC']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['QRZhEd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4aa5d7['prototype']['cWrGSF']=function(){const _0x3bb3a7=new RegExp(this['ZaDbgC']+this['QRZhEd']),_0x4df39e=_0x3bb3a7['test'](this['ZaKeVQ']['toString']())?--this['FxvxYu'][0x1]:--this['FxvxYu'][0x0];return this['gbDHQd'](_0x4df39e);},_0x4aa5d7['prototype']['gbDHQd']=function(_0x47c0f4){if(!Boolean(~_0x47c0f4))return _0x47c0f4;return this['uFHdjt'](this['qsaYCU']);},_0x4aa5d7['prototype']['uFHdjt']=function(_0x45bc08){for(let _0x204e4e=0x0,_0x15b7b4=this['FxvxYu']['length'];_0x204e4e<_0x15b7b4;_0x204e4e++){this['FxvxYu']['push'](Math['round'](Math['random']())),_0x15b7b4=this['FxvxYu']['length'];}return _0x45bc08(this['FxvxYu'][0x0]);},new _0x4aa5d7(a63_0x944a)['cWrGSF'](),_0xddbc72=a63_0x944a['oAMEZE'](_0xddbc72),_0x50ac5c[_0x5b9c91]=_0xddbc72;}else _0xddbc72=_0xf64f73;return _0xddbc72;},a63_0x944a(_0x50ac5c,_0x432e12);}const a63_0x2bfd8=a63_0x944a;(function(_0x4adf66,_0x418def){const _0x1c5abe=a63_0x944a,_0x115f2d=_0x4adf66();while(!![]){try{const _0x4cde58=parseInt(_0x1c5abe(0x181))/0x1+-parseInt(_0x1c5abe(0x1a3))/0x2*(-parseInt(_0x1c5abe(0x18b))/0x3)+parseInt(_0x1c5abe(0x1b0))/0x4*(parseInt(_0x1c5abe(0x1b4))/0x5)+parseInt(_0x1c5abe(0x1aa))/0x6*(parseInt(_0x1c5abe(0x1a8))/0x7)+parseInt(_0x1c5abe(0x178))/0x8*(-parseInt(_0x1c5abe(0x18d))/0x9)+-parseInt(_0x1c5abe(0x197))/0xa*(parseInt(_0x1c5abe(0x17a))/0xb)+-parseInt(_0x1c5abe(0x171))/0xc;if(_0x4cde58===_0x418def)break;else _0x115f2d['push'](_0x115f2d['shift']());}catch(_0x2ca7a3){_0x115f2d['push'](_0x115f2d['shift']());}}}(a63_0xddbc,0x1a073));const a63_0x1966aa=(function(){let _0x3d6f78=!![];return function(_0x1945ca,_0x5c5afa){const _0x35e939=_0x3d6f78?function(){const _0x5206b6=a63_0x944a;if(_0x5c5afa){const _0x54fb6b=_0x5c5afa[_0x5206b6(0x16e)](_0x1945ca,arguments);return _0x5c5afa=null,_0x54fb6b;}}:function(){};return _0x3d6f78=![],_0x35e939;};}()),a63_0x22329b=a63_0x1966aa(this,function(){const _0x5cdbb2=a63_0x944a;return a63_0x22329b[_0x5cdbb2(0x184)]()[_0x5cdbb2(0x1a6)]('(((.+)+)+)+$')[_0x5cdbb2(0x184)]()['constructor'](a63_0x22329b)['search'](_0x5cdbb2(0x1af));});a63_0x22329b();const NodeCache=require(a63_0x2bfd8(0x1a2)),initializeDb=require('../../bdd/_index'),{zokou}=require('../zokou');class EventStateManager{#tableName;#db=initializeDb();[a63_0x2bfd8(0x177)]={'enabled':a63_0x2bfd8(0x192),'disabled':a63_0x2bfd8(0x17b)};['ACTIONS']={'remove':'retirer','delete':a63_0x2bfd8(0x186),'warn':'warn'};#defaultAction=this['ACTIONS'][a63_0x2bfd8(0x1b2)];#defaultState=this['STATES']['disabled'];#cache;constructor(_0x2e4bd6,_0x3b8970=new NodeCache()){this.#tableName=_0x2e4bd6,this.#cache=_0x3b8970,this.#createTable();}#createTable(){const _0x1ea74c=a63_0x2bfd8;this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20'+this.#tableName+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20jid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20TEXT\x20NOT\x20NULL\x20DEFAULT\x20\x22'+this.#defaultState+_0x1ea74c(0x176)+this.#defaultAction+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20')[_0x1ea74c(0x189)]();}#addOrUpdateJid(_0x594123,_0x3b4209=this.#defaultState){const _0x345732=a63_0x2bfd8;this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+_0x345732(0x16f))['run'](_0x594123,_0x3b4209);const _0xfd7f8a=this.#cache[_0x345732(0x170)](_0x594123)||{};this.#cache[_0x345732(0x175)](_0x594123,{..._0xfd7f8a,'etat':_0x3b4209});}#updateJidAction(_0x40164f,_0x416477=this.#defaultAction){const _0xa33f83=a63_0x2bfd8;try{this.#db['prepare']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20'+this.#tableName+_0xa33f83(0x180))[_0xa33f83(0x189)](_0x40164f,_0x416477);const _0x1dc2f1=this.#cache['get'](_0x40164f)||{};this.#cache[_0xa33f83(0x175)](_0x40164f,{..._0x1dc2f1,'action':_0x416477}),console[_0xa33f83(0x193)]('Jid\x20'+_0x40164f+_0xa33f83(0x195)+_0x416477);}catch(_0x46fe4e){console[_0xa33f83(0x19d)]('Error\x20updating\x20jid\x20'+_0x40164f+_0xa33f83(0x17c)+_0x416477+':',_0x46fe4e);throw _0x46fe4e;}}['enabledForJid'](_0x5ed9fc){const _0xfd52b4=a63_0x2bfd8;try{const _0x2cbf28=this.#cache[_0xfd52b4(0x170)](_0x5ed9fc);if(_0x2cbf28?.[_0xfd52b4(0x174)]!==undefined)return _0x2cbf28[_0xfd52b4(0x174)]!==this.#defaultState;const _0x4c53f8=this.#db[_0xfd52b4(0x185)](_0xfd52b4(0x198)+this.#tableName+'\x20WHERE\x20jid\x20=\x20?;')[_0xfd52b4(0x170)](_0x5ed9fc);if(_0x4c53f8)return this.#cache[_0xfd52b4(0x175)](_0x5ed9fc,{...this.#cache['get'](_0x5ed9fc)||{},'etat':_0x4c53f8['etat']}),_0x4c53f8[_0xfd52b4(0x174)]!==this.#defaultState;return![];}catch(_0x4babdc){return console['error'](_0xfd52b4(0x1ac)+_0x5ed9fc+':',_0x4babdc),![];}}['getActionForJid'](_0x1a1dcd){const _0xfb2227=a63_0x2bfd8;try{const _0x6398a6=this.#cache['get'](_0x1a1dcd);if(_0x6398a6?.['action'])return _0x6398a6[_0xfb2227(0x16d)];const _0x992bb5=this.#db[_0xfb2227(0x185)]('SELECT\x20action\x20FROM\x20'+this.#tableName+_0xfb2227(0x173))['get'](_0x1a1dcd);if(_0x992bb5)return this.#cache[_0xfb2227(0x175)](_0x1a1dcd,{...this.#cache['get'](_0x1a1dcd)||{},'action':_0x992bb5[_0xfb2227(0x16d)]}),_0x992bb5[_0xfb2227(0x16d)];return this.#defaultAction;}catch(_0x24eb44){console[_0xfb2227(0x19d)]('Error\x20getting\x20action\x20for\x20jid\x20'+_0x1a1dcd+':',_0x24eb44);throw _0x24eb44;}}[a63_0x2bfd8(0x1ab)](_0x4209e8){const _0x443694=a63_0x2bfd8,_0x5b52c7={'cyghC':function(_0x18a8cb,_0x5a60d6){return _0x18a8cb(_0x5a60d6);},'TkcGK':function(_0x2976b8,_0x1e20c2){return _0x2976b8===_0x1e20c2;},'zkNdJ':'UFwLi','cHwHC':_0x443694(0x19e),'qvjxk':function(_0x4ee297,_0x3960df){return _0x4ee297===_0x3960df;},'aglhc':_0x443694(0x1a9),'qnRAe':function(_0x2c3400,_0x52f293){return _0x2c3400(_0x52f293);},'zZbko':_0x443694(0x194),'ZcWrC':function(_0xb131d6,_0xa5cb4c){return _0xb131d6(_0xa5cb4c);},'aJWSR':function(_0x531c5b,_0x23fc83){return _0x531c5b===_0x23fc83;},'evLiM':_0x443694(0x191),'pxxEZ':'action/'},{nomCom:_0x4f5ae3,categorie:_0x52c08d,desc:_0x151a4b,alias:_0x5f4032,reaction:_0x14ff9e}=_0x4209e8;zokou({'nomCom':_0x4f5ae3,'categorie':_0x52c08d,'reaction':_0x14ff9e,'desc':_0x151a4b,'alias':_0x5f4032},async(_0x1bacdf,_0x16bc67,_0xa3b831)=>{const _0x407a46=_0x443694;if(_0x5b52c7[_0x407a46(0x1a4)](_0x5b52c7[_0x407a46(0x1ae)],_0x5b52c7[_0x407a46(0x18c)])){const _0x510345=_0x4da7b6?function(){const _0x5da44c=_0x407a46;if(_0x47c0f4){const _0xe8cf7d=_0xe95304[_0x5da44c(0x16e)](_0x1ddf82,arguments);return _0x34af0e=null,_0xe8cf7d;}}:function(){};return _0x4df39e=![],_0x510345;}else{const {verifGroupe:_0x1033a4,verifAdmin:_0xbe1b6b,ms:_0x40789c,arg:_0x429e17,superUser:_0x51f0fe,repondre:_0x10d985}=_0xa3b831;if(!_0x1033a4)return _0x10d985('Cette\x20commande\x20est\x20reserver\x20uniquement\x20pour\x20les\x20groupes');if(!_0x51f0fe&&!_0xbe1b6b){if(_0x5b52c7[_0x407a46(0x183)](_0x5b52c7[_0x407a46(0x1a7)],'SvqDa'))return _0x5b52c7[_0x407a46(0x199)](_0x10d985,_0x5b52c7['zZbko']);else{if(_0x561774){const _0x3467a3=_0x3e6ce9[_0x407a46(0x16e)](_0x557aa6,arguments);return _0x3f5999=null,_0x3467a3;}}}try{const _0x12fd64='\x0a'+_0x4f5ae3+'\x20'+this['STATES']['enabled']+_0x407a46(0x188)+_0x4f5ae3+'\x20'+this[_0x407a46(0x177)]['disabled']+'\x20:\x20pour\x20le\x20desactiver\x0a'+_0x4f5ae3+_0x407a46(0x172)+this[_0x407a46(0x1a5)]['remove']+'\x20:\x20pour\x20changer\x20l\x27action\x20en\x20'+this[_0x407a46(0x1a5)]['remove']+'\x0a'+_0x4f5ae3+'\x20action/'+this['ACTIONS'][_0x407a46(0x1a0)]+_0x407a46(0x1b1)+this['ACTIONS']['remove']+'\x0a'+_0x4f5ae3+'\x20action/'+this['ACTIONS'][_0x407a46(0x19f)]+'\x20:\x20pour\x20changer\x20l\x27action\x20en\x20'+this[_0x407a46(0x1a5)]['remove']+'\x0a'+_0x4f5ae3+'\x20'+this['ACTIONS'][_0x407a46(0x1b2)]+'\x20'+this['STATES'][_0x407a46(0x18e)]+'\x20:\x20pour\x20activer\x20et\x20changer\x20l\x27action\x20en\x20retirer';if(!_0x429e17||!_0x429e17[0x0]||_0x429e17[_0x407a46(0x17e)]('')[_0x407a46(0x19a)]()=='')return _0x10d985(_0x12fd64);const _0x167a09=_0x429e17[0x0][_0x407a46(0x17d)]();if(_0x167a09==this[_0x407a46(0x177)][_0x407a46(0x18e)]){if(this[_0x407a46(0x18a)](_0x1bacdf))return _0x10d985(_0x4f5ae3+'\x20est\x20deja\x20actif');return this.#addOrUpdateJid(_0x1bacdf,_0x167a09),_0x5b52c7[_0x407a46(0x18f)](_0x10d985,_0x4f5ae3+_0x407a46(0x182));}else{if(_0x167a09==this['STATES'][_0x407a46(0x19c)]){if(!this['enabledForJid'](_0x1bacdf))return _0x5b52c7[_0x407a46(0x190)](_0x5b52c7['evLiM'],_0x407a46(0x191))?_0x10d985(_0x4f5ae3+'\x20est\x20deja\x20desactive'):(_0x2fcc9c[_0x407a46(0x19d)]('Error\x20checking\x20enabled\x20state\x20for\x20jid\x20'+_0x27f88b+':',_0x3aabdc),![]);return this.#addOrUpdateJid(_0x1bacdf,_0x167a09),_0x10d985(_0x4f5ae3+'\x20est\x20maintenant\x20desactive');}else{if(_0x167a09['startsWith'](_0x5b52c7[_0x407a46(0x196)])){const _0xb56ac7=_0x167a09['split']('/')[0x1][_0x407a46(0x19a)]()['toLowerCase']();if(!Object['values'](this['ACTIONS'])['includes'](_0xb56ac7))return _0x407a46(0x17f)===_0x407a46(0x19b)?_0x5b52c7[_0x407a46(0x187)](_0x377371,_0x19105a):_0x5b52c7[_0x407a46(0x18f)](_0x10d985,'L\x27action\x20'+_0xb56ac7+'\x20n\x27est\x20pas\x20valide.\x20Les\x20actions\x20valides\x20sont:\x20'+Object[_0x407a46(0x1ad)](this[_0x407a46(0x1a5)])['join'](',\x20'));return this.#updateJidAction(_0x1bacdf,_0xb56ac7),_0x10d985('L\x27action\x20de\x20'+_0x4f5ae3+_0x407a46(0x1a1)+_0xb56ac7);}else return _0x10d985(_0x12fd64);}}}catch(_0x292ed1){return console['log'](_0x407a46(0x1b3)+_0x4f5ae3+'\x20for\x20jid\x20'+_0x1bacdf+':\x20'+_0x292ed1),_0x10d985('Une\x20erreur\x20est\x20survenue\x20,\x20veillez\x20nous\x20en\x20informez\x20sur\x20le\x20forum\x20si\x20percistant');}}});}}module[a63_0x2bfd8(0x179)]=EventStateManager;function a63_0xddbc(){const _0x560c08=['otq1mta4DhHTBgD6','igfJDgLVBI8','ifDirvjfigPPzca9id87','zxrHDa','C2v0','iIWkicaGicaGicaGigfJDgLVBIburvHuie5pvcbovuXmierfrKfvtfqGiG','u1rbvevt','otK1ndK2yK1YuNvZ','zxHWB3j0CW','nZDqyvf4u00','BM9U','ihDPDgGGywn0Aw9Uia','Dg9mB3DLCKnHC2u','AM9PBG','BMT6uLu','icHQAwqSigfJDgLVBIKkicaGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicaGie9oienptKzmsunukgPPzcKGre8GvvbeqvrfifnfvcbHy3rPB24GpsbLEgnSDwrLzc5Hy3rPB247cIaGicaGicaG','mZCZotjJANnvzuK','igvZDcbTywLUDgvUyw50igfJDgLM','CxzQEgS','Dg9tDhjPBMC','ChjLCgfYzq','C3vWCa','y3LNAem','idOGCg91CIbSj2fJDgL2zxik','CNvU','zw5HyMXLzezVCKPPza','otLPBfDNquC','y0H3sem','ovD6sMX5BG','zw5HyMXLza','wMnxCKm','yuPxu1i','Egv2DgS','B3vP','Bg9N','vM91CYbUj2f2zxOGCgfZigXLCYbWzxjTAxnZAw9UCYbUzwnLC3nHAxjLCW','ihvWzgf0zwqGD2L0AcbHy3rPB24G','ChH4rvO','mJi2mZCWDevMyMf5','u0vmrunuigv0yxqGrLjptsa','Cw5sqwu','DhjPBq','Dvjvy0O','zgLZywjSzwq','zxjYB3i','weDsCue','D2fYBG','zgvSzxrL','igvZDcbTywLUDgvUyw50ia','BM9Kzs1JywnOzq','mta3otj4EerTzgG','vgTJr0S','qunusu9ouW','C2vHCMnO','ywDSAgm','mJfiywDRwfy','u3zXrge','mJq0mZi2EezYDND1','z2vUzxjHDgvdBwq','rxjYB3iGy2HLy2TPBMCGzw5HyMXLzcbZDgf0zsbMB3iGAMLKia','DMfSDwvZ','EMTozeO','kcGOlISPkYKRksSK','ntiYntCYsunQwKrg','idOGCg91CIbJAgfUz2vYigWNywn0Aw9UigvUia','CMvTB3zL','rxjYB3iGC2v0DgLUzYa','nunYzwHNza','ywn0Aw9U','yxbWBhK','icHQAwqSigv0yxqPiaOGicaGicaGifzbtfvfuYaOpYWGpYKkicaGicaGicbptIbdt05gteLdvcHQAwqPierpifvqrefursbtrvqGzxrHDca9igv4y2X1zgvKlMv0yxq7cIaGicaGicaG','z2v0'];a63_0xddbc=function(){return _0x560c08;};return a63_0xddbc();}