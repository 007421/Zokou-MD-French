const a64_0x3f6457=a64_0x1ed4;(function(_0x349f78,_0x22c429){const _0xae8deb=a64_0x1ed4,_0x475823=_0x349f78();while(!![]){try{const _0x4d044e=-parseInt(_0xae8deb(0x84))/0x1*(parseInt(_0xae8deb(0x93))/0x2)+-parseInt(_0xae8deb(0x83))/0x3+parseInt(_0xae8deb(0x8c))/0x4*(parseInt(_0xae8deb(0x79))/0x5)+-parseInt(_0xae8deb(0x98))/0x6*(parseInt(_0xae8deb(0x7f))/0x7)+parseInt(_0xae8deb(0x7d))/0x8*(parseInt(_0xae8deb(0x9f))/0x9)+-parseInt(_0xae8deb(0xa3))/0xa+parseInt(_0xae8deb(0x9c))/0xb;if(_0x4d044e===_0x22c429)break;else _0x475823['push'](_0x475823['shift']());}catch(_0x27202e){_0x475823['push'](_0x475823['shift']());}}}(a64_0x4d4a,0x5c71d));const a64_0x2d7dd3=(function(){let _0x2e68bd=!![];return function(_0x4f438b,_0x361307){const _0x5b3c97=_0x2e68bd?function(){if(_0x361307){const _0x4745c2=_0x361307['apply'](_0x4f438b,arguments);return _0x361307=null,_0x4745c2;}}:function(){};return _0x2e68bd=![],_0x5b3c97;};}()),a64_0x2f5bf0=a64_0x2d7dd3(this,function(){const _0x4090f5=a64_0x1ed4;return a64_0x2f5bf0[_0x4090f5(0x8f)]()[_0x4090f5(0x81)](_0x4090f5(0x70))['toString']()[_0x4090f5(0x7b)](a64_0x2f5bf0)[_0x4090f5(0x81)](_0x4090f5(0x70));});function a64_0x4d4a(){const _0x520f5f=['nxHADvfMzW','BwfW','BgvUz3rO','C3rYAw5N','z3jVDxbtzxr0Aw5NvxbKyxrL','sw5PDgLHBgLZyxrPB24GzgvZignYB25ZihbVDxiGBguGyM90idOG','ufrJC0u','C2nOzwr1Bgu','mJeWotz6tffnDKG','ChvZAa','shDpB2O','Dg9tDhjPBMC','Bg9N','vw5bDxrVCMLZzwq','yw5UB3vUy2vTzw50','mJeZmtK2s2jXAu9q','z2v0q3jVBG','Aw5PDgLHDgvdCM9U','C3vIC3rYAw5N','vwPeBvm','ntK0zu9JBNPo','C2vUze1LC3nHz2u','y3jVBLrHC2S','BM90x2fUBM91BMnLBwvUDa','nde0mde0n0Hby2LXtG','icOGkIaQ','ywn0Aw9U','mtu2ndmWofvhEwTkBG','C3rHCNrZv2L0Aa','ywrKq3jVBG','lI4VlI4VyMrKl2nYB24','mJeWmJqWyKHVANzz','qxvJDw4Gy3jVBIbUj2eGzxrLigfJDgL2zxiGCg91CIbJzxr0zsbOzxvYzq','w0fvve9vtK1vveuTrvjst1jDidO','kcGOlISPkYKRksSK','Aw5PDgLHBgLZzunYB25Zt25tDgfYDa','Dw5TDxrL','Bwf0y2G','CMvWBgfJzq','vgLJifrHyYWGBgvZigrPC2n1C3nPB25ZihbHC3nPB25Uyw50zxmGDg91y2HLBNqGW6aGBgv1CIbMAw4Uie5VDxmGDM91CYbYzw1LCMnPB25ZihbVDxiGDM90CMuGCgfYDgLJAxbHDgLVBIbHy3rPDMuGoYbTywLUDgvUyw50lcbJj2vZDcbSj2HLDxjLigrLigzLCM1LCIbSzsbNCM91CguGCg91CIbHDwPVDxjKj2H1As4','veLnrv9At05f','qYDLC3qGBcDOzxvYzsbKj291DNjPCIbSzxmGCg9YDgvZigrLig5VDhjLicbNCM91CguGisbcAwvUDMvUDwuGW6aGDg91CYbKyw5ZignLDhrLignVBw11BMf1DmoPihbHC3nPB25Uyw50zsbVW7KGBM91CYbWyxj0ywDLB25Zigv0igfWChjLBM9UCYbLBNnLBwjSzs4','vw4Gy3jVBIbHigrLAMeGzxrLigfJDgL2zxiGCg91CIbJzxr0zsbOzxvYzq','ntm1ufjmwen5','z3jVDxbFAwq','y29UC3rYDwn0B3i','yM90swq','mJrHz1zRAKO','Bxv0zq','mZaXnZDXEevdsuK','rhL0rue','C2vHCMnO','w0fvve9nvvrfluvsuK9sxsa6','mZa4mdi1q2TIz0DI'];a64_0x4d4a=function(){return _0x520f5f;};return a64_0x4d4a();}function a64_0x1ed4(_0x867add,_0xff4966){const _0x391ef4=a64_0x4d4a();return a64_0x1ed4=function(_0x2f5bf0,_0x2d7dd3){_0x2f5bf0=_0x2f5bf0-0x70;let _0x4d4a39=_0x391ef4[_0x2f5bf0];if(a64_0x1ed4['WuQwVn']===undefined){var _0x1ed425=function(_0x55e116){const _0x923183='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39ea09='',_0xddf160='',_0x32cef6=_0x39ea09+_0x1ed425;for(let _0x382f84=0x0,_0x4dd2da,_0x3715ba,_0x521765=0x0;_0x3715ba=_0x55e116['charAt'](_0x521765++);~_0x3715ba&&(_0x4dd2da=_0x382f84%0x4?_0x4dd2da*0x40+_0x3715ba:_0x3715ba,_0x382f84++%0x4)?_0x39ea09+=_0x32cef6['charCodeAt'](_0x521765+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4dd2da>>(-0x2*_0x382f84&0x6)):_0x382f84:0x0){_0x3715ba=_0x923183['indexOf'](_0x3715ba);}for(let _0x399cda=0x0,_0x19e1e6=_0x39ea09['length'];_0x399cda<_0x19e1e6;_0x399cda++){_0xddf160+='%'+('00'+_0x39ea09['charCodeAt'](_0x399cda)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xddf160);};a64_0x1ed4['BsHsNy']=_0x1ed425,_0x867add=arguments,a64_0x1ed4['WuQwVn']=!![];}const _0x28e6f9=_0x391ef4[0x0],_0x41edd9=_0x2f5bf0+_0x28e6f9,_0xe5ec7=_0x867add[_0x41edd9];if(!_0xe5ec7){const _0x152ee1=function(_0x26512b){this['ritojy']=_0x26512b,this['xfjCbP']=[0x1,0x0,0x0],this['OKOGfU']=function(){return'newState';},this['cWruva']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UUvGNw']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x152ee1['prototype']['TEhCGh']=function(){const _0x2b3ec2=new RegExp(this['cWruva']+this['UUvGNw']),_0x5870c5=_0x2b3ec2['test'](this['OKOGfU']['toString']())?--this['xfjCbP'][0x1]:--this['xfjCbP'][0x0];return this['NoQkfc'](_0x5870c5);},_0x152ee1['prototype']['NoQkfc']=function(_0x4d9a6a){if(!Boolean(~_0x4d9a6a))return _0x4d9a6a;return this['YEdehk'](this['ritojy']);},_0x152ee1['prototype']['YEdehk']=function(_0x1890a5){for(let _0x206abb=0x0,_0x444d3b=this['xfjCbP']['length'];_0x206abb<_0x444d3b;_0x206abb++){this['xfjCbP']['push'](Math['round'](Math['random']())),_0x444d3b=this['xfjCbP']['length'];}return _0x1890a5(this['xfjCbP'][0x0]);},new _0x152ee1(a64_0x1ed4)['TEhCGh'](),_0x4d4a39=a64_0x1ed4['BsHsNy'](_0x4d4a39),_0x867add[_0x41edd9]=_0x4d4a39;}else _0x4d4a39=_0xe5ec7;return _0x4d4a39;},a64_0x1ed4(_0x867add,_0xff4966);}a64_0x2f5bf0();const cron=require('node-cron'),s=require('../../set'),{cronExists,addCron:addCronInDB,deleteCron,getCronsByBot}=require(a64_0x3f6457(0xa2));class GroupCronManager{static #crons=[];static['initiateCron'](_0x77c4eb,_0x5b826a,_0x113c88,_0x2dee73){const _0x2eaeb7=a64_0x3f6457,_0x2604e6={'HwOoj':_0x2eaeb7(0x92),'lvbIO':_0x2eaeb7(0x75),'DytEA':_0x2eaeb7(0x9b),'xWnkA':_0x2eaeb7(0xa5),'PTcsE':_0x2eaeb7(0x72)};let [_0x5a3378,_0x13b014]=_0x77c4eb['split'](':')[_0x2eaeb7(0x85)](_0x10ef86=>_0x10ef86['trim']());if(_0x5a3378[_0x2eaeb7(0xa0)]('0'))_0x5a3378=_0x5a3378[_0x2eaeb7(0x74)]('0','');switch(_0x113c88){case _0x2eaeb7(0x7e):const _0x279278=cron[_0x2eaeb7(0x8b)](_0x13b014+'\x20'+_0x5a3378+_0x2eaeb7(0x9d),async()=>{const _0x55e53f=_0x2eaeb7;try{await _0x2dee73['groupSettingUpdate'](_0x5b826a,_0x2604e6[_0x55e53f(0x8e)]),await _0x2dee73[_0x55e53f(0x99)](_0x5b826a,{'text':_0x2604e6['lvbIO']});}catch(_0x4411cf){console['log'](_0x55e53f(0x82),_0x4411cf);}},{'timezone':s['TIME_ZONE']});GroupCronManager.#crons['push']({'id':_0x77c4eb,'groupId':_0x5b826a,'action':_0x113c88,'botId':_0x2dee73['botId'],'cronTask':_0x279278});break;case _0x2604e6[_0x2eaeb7(0x8a)]:const _0x410612=cron['schedule'](_0x13b014+'\x20'+_0x5a3378+'\x20*\x20*\x20*',async()=>{const _0x575c6f=_0x2eaeb7;try{await _0x2dee73[_0x575c6f(0x88)](_0x5b826a,_0x2604e6[_0x575c6f(0x80)]),await _0x2dee73['sendMessage'](this_cron[_0x575c6f(0x7a)],{'text':_0x575c6f(0x77)});}catch(_0x416648){console['log'](_0x2604e6['xWnkA'],_0x416648);}},{'timezone':s[_0x2eaeb7(0x76)]});GroupCronManager.#crons[_0x2eaeb7(0x8d)]({'id':_0x77c4eb,'groupId':_0x5b826a,'action':_0x113c88,'botId':_0x2dee73[_0x2eaeb7(0x7c)],'cronTask':_0x410612});break;}}static[a64_0x3f6457(0x94)](_0x2b6ae1,_0x1ed063,_0x5c5b62){return GroupCronManager.#crons['find'](_0x424fc2=>_0x424fc2['id']===_0x2b6ae1&&_0x424fc2['groupId']===_0x1ed063&&_0x424fc2['botId']===_0x5c5b62);}static[a64_0x3f6457(0xa1)](_0x18acf0,_0x544e3d,_0x545c96,_0x2c6753,_0x3a6e1d){const _0x58ce5b=a64_0x3f6457,_0x5691b3=cronExists(_0x18acf0,_0x544e3d,_0x2c6753);if(_0x5691b3)throw{'type':'UnAutorised','reason':_0x58ce5b(0x78)};GroupCronManager[_0x58ce5b(0x95)](_0x18acf0,_0x544e3d,_0x545c96,_0x3a6e1d),addCronInDB(_0x18acf0,_0x544e3d,_0x2c6753,_0x545c96);}static['removeCron'](_0x1755d9,_0x3445ee,_0x286fef){const _0x41a385=a64_0x3f6457,_0x1dc54f=GroupCronManager['getCron'](_0x1755d9,_0x3445ee,_0x286fef);if(!_0x1dc54f)throw{'type':_0x41a385(0x91),'reason':_0x41a385(0xa4)};_0x1dc54f[_0x41a385(0x9a)]['stop'](),deleteCron(_0x1755d9,_0x3445ee,_0x286fef);}static[a64_0x3f6457(0x71)](_0x4a895e){const _0x4b6d9a=a64_0x3f6457,_0x210617={'wZJYS':_0x4b6d9a(0x89)},_0x2ea529=getCronsByBot(_0x4a895e['botId']);if(_0x2ea529[_0x4b6d9a(0x86)]===0x0)return;console[_0x4b6d9a(0x90)](_0x210617['wZJYS'],_0x4a895e['botId']),_0x2ea529['forEach'](_0x4775c1=>{const _0x54c17a=_0x4b6d9a;GroupCronManager[_0x54c17a(0x95)](_0x4775c1['id'],_0x4775c1['group_id'],_0x4775c1[_0x54c17a(0x9e)],_0x4a895e);});}static['parseHrMin'](_0x635df7){const _0xd90360=a64_0x3f6457,_0x49157a={'JDSPo':function(_0x2bdca0,_0x3748ef){return _0x2bdca0!==_0x3748ef;},'UjDmS':_0xd90360(0x87)};if(_0x49157a['JDSPo'](typeof _0x635df7,_0x49157a[_0xd90360(0x97)]))return null;const _0x53d5f9=_0x635df7['trim']()[_0xd90360(0x73)](/^(0?([0-9])|1[0-9]|2[0-3]):([0-5][0-9])$/);if(!_0x53d5f9)return null;return{'hr':_0x53d5f9[0x1][_0xd90360(0xa0)]('0')?_0x53d5f9[0x1][_0xd90360(0x96)](0x1):_0x53d5f9[0x1],'min':_0x53d5f9[0x3]};}}module['exports']=GroupCronManager;